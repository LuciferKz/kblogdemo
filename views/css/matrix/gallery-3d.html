<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>gallery-3d</title>
  <style>
    .gallery {
      position: absolute;
      top: 300px;
      left: 300px;
      perspective: 600;
      -webkit-perspective: 600;
    }
    .gallery-ul {
      position: relative;
      width: 200px;
      height: 80px;
      margin: 0;
      padding: 0;
      list-style: none;
      transform-style: preserve-3d;
      animation: gallery 1s linear steps(8);
      -webkit-animation: gallery 5s steps(8) infinite;
      transform-origin: 50% 50% -241.4213562373095px;
    }
    .gallery-ul li {
      position: absolute;
      top: 0;
      left: 0;
      display: inline-block;
      width: 200px;
      height: 80px;
      background-color: #000;
      transform-origin: 50% 50% -241.4213562373095px;
    }

    @-webkit-keyframes gallery {
      0% { transform: rotateY(0); }
      12.5% { transform: rotateY(-45deg); }
      25% { transform: rotateY(-90deg); }
      37.5% { transform: rotateY(-135deg); }
      50% { transform: rotateY(-180deg); }
      62.5% { transform: rotateY(-225deg); }
      75% { transform: rotateY(-270deg); }
      87.5% { transform: rotateY(-315deg); }
      100% { transform: rotateY(-360deg); }
    }

  </style>
</head>
<body>
  <div class="gallery">
    <ul class="gallery-ul">
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
    </ul>
  </div>
  <script>
    // 视窗 perspective: number
    // 容器 transform-style: perserve-3d

    var oLis = document.querySelectorAll('.gallery-ul li')

    for (var i = 0; i < oLis.length; i++) {
      oLis.item(i).style.backgroundColor = 'rgb(' + Math.ceil(Math.random() * 255) + ', ' + Math.ceil(Math.random() * 255) +', ' + Math.ceil(Math.random() * 255) + ')'
      // oLis.item(i).style.transform = 'translate3d('+ 200 * (i % 2) +'px, 0, -'+ Math.sin(45) * (100 * i) +'px) rotateY('+ 45 * i +'deg)'
      oLis.item(i).style.transform = 'rotateY('+ 45 * i +'deg)'
    }
  </script>
</body>
</html>